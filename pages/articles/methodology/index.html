---
layout: default
title: Metodika
permalink: /clanky/metodika/
---

<div class="content-wrapper">
<div class="page-header-with-pagination">
  <h1>Metodika</h1>
  <div class="pagination" id="paginationTop"></div>
</div>

<div class="event-grid" id="articleGrid">
{% assign articles = site.posts | where_exp: "post", "post.categories contains 'methodology'" | sort: 'date' | reverse %}
{% for post in articles %}
  <a href="{{ post.url | relative_url }}" class="event-card-link" data-article-item>
    <div class="event-card">
      <img src="{% if post.image %}{{ post.image }}{% else %}/logo.png{% endif %}" alt="{{ post.title }}" class="event-image{% unless post.image %} fallback-image{% endunless %}" loading="lazy">
      <div class="event-content">
        <h3 class="event-title">{{ post.title }}</h3>
        <p class="event-date">{{ post.date_created | date: "%d.%m.%Y" }}</p>
      </div>
    </div>
  </a>
{% endfor %}
</div>

{% if articles.size == 0 %}
<p>Zatím zde nejsou žádné metodické články.</p>
{% endif %}

<div class="pagination" id="pagination"></div>

<p style="margin-top: 2rem;"><a href="/clanky/" class="btn btn-primary">← Všechny články</a></p>

<script>
(function() {
    const itemsPerPage = 9;
    let currentPage = 1;

    const articleItems = document.querySelectorAll('[data-article-item]');
    const paginationTop = document.getElementById('paginationTop');
    const paginationBottom = document.getElementById('pagination');
    const totalPages = Math.ceil(articleItems.length / itemsPerPage);

    function showPage(page, scrollToTop = true) {
        currentPage = page;

        articleItems.forEach((item, index) => {
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;

            if (index >= startIndex && index < endIndex) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });

        renderPagination();
        if (scrollToTop) {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    }

    function renderPagination() {
        if (totalPages <= 1) {
            paginationTop.innerHTML = '';
            paginationBottom.innerHTML = '';
            return;
        }

        let html = '<div class="pagination-container">';

        if (currentPage > 1) {
            html += `<button class="pagination-btn" onclick="articlePagination.goToPage(${currentPage - 1})">← Předchozí</button>`;
        }

        html += '<div class="pagination-numbers">';
        for (let i = 1; i <= totalPages; i++) {
            if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                const activeClass = i === currentPage ? 'active' : '';
                html += `<button class="pagination-number ${activeClass}" onclick="articlePagination.goToPage(${i})">${i}</button>`;
            } else if (i === currentPage - 2 || i === currentPage + 2) {
                html += '<span class="pagination-dots">...</span>';
            }
        }
        html += '</div>';

        if (currentPage < totalPages) {
            html += `<button class="pagination-btn" onclick="articlePagination.goToPage(${currentPage + 1})">Další →</button>`;
        }

        html += '</div>';
        paginationTop.innerHTML = html;
        paginationBottom.innerHTML = html;
    }

    window.articlePagination = {
        goToPage: showPage
    };

    showPage(1, false);
})();
</script>
</div>
